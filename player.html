<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Interface Audio Joueur</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { font-family: Arial, sans-serif; background: #f8f8f8; margin: 0; }
        .container { max-width: 500px; margin: 40px auto; background: #fff; border-radius: 12px; box-shadow: 0 2px 12px #0002; padding: 32px; }
        h2 { color: #1976d2; }
        .info { margin: 16px 0; color: #444; }
        audio { width: 100%; margin: 24px 0; }
        .footer { margin-top: 40px; color: #888; font-size: 0.9em; }
        .back { margin-bottom: 20px; display: inline-block; }
    </style>
</head>
<body>
    <div class="container">
        <a class="back" href="index.html">&larr; Retour à la liste</a>
        <h2 id="pseudo-title">Joueur</h2>
        <div class="info" id="info"></div>
        <audio id="audio-player" controls autoplay>
            <source id="audio-source" src="" type="audio/wav">
            Votre navigateur ne supporte pas l'audio HTML5.
        </audio>
        <div class="footer">
            CACABEF &copy; 2025 – Interface audio de proximité Minecraft/Discord
        </div>
    </div>
    <script>
        // Récupère le pseudo dans l'URL
        function getPseudo() {
            const params = new URLSearchParams(window.location.search);
            return params.get('pseudo');
        }
        const pseudo = getPseudo();
        document.getElementById('pseudo-title').textContent = pseudo ? `Interface audio pour ${pseudo}` : "Joueur inconnu";
        document.getElementById('info').textContent = pseudo ? `Bienvenue, ${pseudo} !` : "Pseudo non trouvé dans l'URL.";

        // Exemple d'URL de flux audio à adapter à ton backend
        if (pseudo) {
            // Par défaut, la source est vide (à adapter si tu as un vrai flux)
            const url = `/audio_stream/${encodeURIComponent(pseudo)}`;
            document.getElementById('audio-source').src = url;
            document.getElementById('audio-player').load();
        }
    </script>
</body>
</html>
